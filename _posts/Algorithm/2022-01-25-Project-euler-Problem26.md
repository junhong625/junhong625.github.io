---
layout : post
title : 프로젝트 오일러 26번 문제 풀이
subtitle : Project euler
gh-repo: junhong625/Algorithm
gh-badge: [star, fork, follow]
tags : [Algorithm]
comments: true
---

# 프로젝트 오일러 26번 문제 풀이

==============================

## 26번 문제
> 1000 이하의 d 중에서 1/d 이 가장 긴 순환마디를 갖는 수는?

이 문제를 풀기위해 처음 접근했던 방법은 몫을 for문을 돌려 반복되는 수를 찾는 것이었다. 
하지만 이 방법은 시간이 너무 오래 걸릴 뿐더러 이 방법으로 접근했을 때 답을 찾아낼 수 없었다.

답을 찾아낼 수 없었던 원인을 분석한 결과 그냥 나머지를 출력했을 때 기본적으로 나오는 소수의 자릿수 제한이 있어 그런 것이라고 생각했다.
그래서 다음으로 접근한 방법은 Decimal과 getcontext 함수를 이용하여 결과를 찾아내는 것이었다.

```
from decimal import Decimal, getcontext

# 소수점 10자리까지 표현
getcontext().prec = 20
print("결과 : ", Decimal(1)/Decimal(7))

결과 : 0.14285714285714285714
```

이렇듯 Decimal과 getcontext함수를 이용하면 내가 원하는 자리수까지 표현을 할 수 있기에 해결이 가능할 것이라고 생각했다. 하지만 그럼에도 내가 원하는 결과를 뽑아내지 못했다.

한참을 헤매다 순간 몫이 아니라 나머지를 이용해보자는 생각이 떠올랐다. 
몫은 겹치는 숫자가 나오면 순환마디 안에 있는 지나가는 수인지 순환마디의 시작이 다시 돌아온건지 확인할 수가 없지만 나머지는 숫자가 겹치면 순환마디의 시작이 다시 돌아왔다는 것을 알 수 있었다.

이를 이용하여 작성한 코드이다.
```
max_count = 0 # 최장 순환마디의 길이
max_num = 0 # 최장 순환마디의 길이를 가진 수

for num in range(2, 1001): # 2에서 1000까지의 반복문
    r_list = [] #나머지 값이 들어갈 리스트
    r=1 # 처음엔 나눠질 숫자인 1의 역할을 하고 이후부터는 나머지가 입력될 변수
    count = 0 # 몇자리의 순환소수인지 찾기 위한 역할

    for j in range(900): # 몇 번째 나머지까지 찾을 것인지에 대한 범위(**이 범위에 따라서 최대 순환소수를 가진 숫자가 달라진다.)
        while (r < num): # 나머지를 얻어내기 위해서는 나머지가 나누는 숫자보다 커야하기에 나머지인 r이 num보다 커질 때 까지 10을 곱한다.
            r *= 10
        r = r % num # 나머지를 r변수에 입력
        r_list.append(r) # 나머지를 r_list 리스트에 입력
        if (r == 0): # 만약 r(나머지)이 0이면 중단한다.
            break

    for i in range(1, len(r_list)): #  r_list에 들어간 나머지들을 비교한다. 
        if (r_list[0] !=  r_list[i]): # 처음 나머지 값과 같은 나머지 값이 나왔을 때 순환이 끝났다는 의미이기에 다른 나머지 값은 count를 더해준다.
            count += 1
        else: # 같은 나머지 값이 나왔기에 순환이 끝났다는 의미이고 이 때 count가 max_count보다 클 경우에는 max_count와 max_num을 새로 변경해준다.
            if (count > max_count): 
                max_count = count
                max_num = num
            break
print(max_num)
```

나머지를 이용하니 몫을 이용하려고 할 때보다 훨씬 빠른 시간안에 결과를 얻어낼 수 있고 수월하게 코드를 작성할 수 있었다.

### 역시 개발자는 창의적으로 생각하는 것도 중요하지만 다양한 시각과 방향에서 바라보는 것도 중요하다고 생각이 된다.
