---
layout : post
title : '[빅데이터를 지탱하는 기술] 5-4 정리'
subtitle : '[빅데이터를 지탱하는 기술] 정리'
gh-repo: junhong625/Study
gh-badge: [star, fork, follow]
tags : [빅데이터를 지탱하는 기술, Study]
comments: true
---

# 5-4 정리
***

- `워크플로 관리 도구`는 여러 시스템에 명령하기 위한 **사령탑** 같은 역할을 하며, **각종 태스크의 스케줄 실행 및 오류로부터의 복구**를 돕는다.
    - `워크플로 관리(workflow management)` : 기업 내의 정형적인 업무 프로세스(신청, 승인, 보고 등)와 같이 정해진 업무를 원활하게 진행하기 위한 구조
        - 정기적인 배치 처리의 실행에 유용해 데이터 처리 현장에서 자주 이용된다.
    - `워크플로 관리 도구` : 데이터 파이프라인의 모든 태스크를 일원 관리하기 쉽게 한 것  
<br>
<br>
- 빅데이터의 **집계**에는 **장애**가 발생할 수 있다.  

- 만약의 경우에 곤란해지지 않도록 가능한 한 `멱등한 태스크`를 구현하는 등 평소 `복구 가능한 워크플로를 작성`하는 것이 중요하다.
    - `멱등한 태스크` : 여러 번 실행해도 항상 같은 결과가 나오는 태스크.
        - 특징 :
            1. `원자성 조작(atomic operation)` : 외부에서는 하나의 조작으로 보이는 조작의 집합을 말한다. 원자성 조작의 결과는 성공이나 실패 중의 하나이다.
            2. `멱등한 조작` : 동일한 태스크를 여러 번 실행해도 동일한 결과가 나오도록 하는 것
            3. `멱등한 추가` : `테이블 파티셔닝`을 이용하여 파티션 단위로 치환하여 멱등성을 유지하면서 워크플로를 만드는 것
                - `테이블 파티셔닝(table partitioning)` : 하나의 테이블을 여러 물리적인 파티션으로 나눔으로써 파티션 단위로 정리하여 데이터를 쓰거나 삭제할 수 있도록 한 것
            4. `원자성을 지닌 추가` : 하나의 테이블에 데이터를 여러 번 넣는 것이 아닌 중간 테이블에 데이터를 모아서 한 번에 추가 하는 것  
<br>
<br>

- 워크플로 관리 도구는 **외부 시스템에 영향을 미치는 부하를 조정하는 역할**도 담당한다.
    - **태스크의 크기**나 **동시 실행 수**를 잘 제어해서 **안정적인 태스크 실행**과 **자원의 유효한 활용**을 양립하도록 한다.
        - `태스크 큐(tast queue)` : 워크플로 관리 도구에서의 부하를 컨트롤 하기 위해 태스크의 크기나 실행 태스크 수를 컨트롤 하는 역할
    - 워크플로에 등록하는 모든 태스크는 너무 크지도 작지도 않도록 적절히 나눈다.
    - 그렇게 함으로써 높은 효율로 실행할 수 있고 오류 발생 시의 영향 또한 작게 억제할 수 있다.
<br>
<br>

- 분산 스토리지에 데이터를 넣은 후에는 `데이터 플로우`가 등장한다.
    - `데이터 플로우(data flow)` : 다단계의 데이터 처리를 그대로 분산 시스템의 내부에서 실행하는 것  

- `DAG`라는 형태로 플로우를 기술함으로써 데이터 파이프라인을 **분산 시스템의 내부에서 높은 효율로 실행**할 수 있다.
    - `DAG(directed acyclic graph)` : **방향성**과 **비순환**의 특성을 지닌 그래프  

- **배치 형의 데이터 플로우를 스크립트화**해두면 **데이터의 구조화**나 **데이터 마트의 구축**이라는 프로세스를 **단순 태스크로 워크플로에서 호출**할 수 있다.  
<br>
<br>

- **실시간 데이터 처리**를 위해서는 **스트리밍 형의 데이터 플로우**를 실행할 수 있다.  

- 스트림 처리는 잘못된 집계를 다시 하는 것이 어려워 필연적으로 **배치 처리**와 조합시켜 **2 계통의 데이터 처리**를 하게 된다.  

- 일반적으로 `람다 아키텍처`로 알려져 있는데 시스템을 복잡하게 하는 요인이므로 꼭 필요로 하지 않는 한 스트림 처리의 도입에는 신중해야 한다.
    - `람다 아키텍처(lambda architecture)` : 대량의 데이터를 실시간으로 분석하기 어려우니 batch로 미리 만든 데이터와 실시간 데이터를 혼합해서 사용하는 방식이다.  
<br>
<br>

- **데이터 파이프 라인의 안정적인 운용**을 위해서는 **워크플로 관리가 필수적**이므로 워크플로 관리 도구를 제대로 사용하여 **안정성**을 높이는 것이 중요하다.