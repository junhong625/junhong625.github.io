---
layout : post
title : '[빅데이터를 지탱하는 기술] 4-5 정리'
subtitle : '[빅데이터를 지탱하는 기술] 정리'
gh-repo: junhong625/Study
gh-badge: [star, fork, follow]
tags : [빅데이터를 지탱하는 기술, Study]
comments: true
---

# 4-5 정리
- - - 

- 빅데이터를 효율적으로 집계하려면 **장기적인 데이터 분석**을 가정한 **스토리지**를 마련하는 것이 필수적이다.
    - 대표적인 객체 스토리지(**장기적인 데이터 분석을 가정한 스토리지**) : Hadoop HDFS, Amazon S3
<br>

- 데이터를 너무 짧은 간격으로 전송하면 데이터가 너무 분산되어 **집계 효율**은 점차 악화된다.
    - `벌크 형의 데이터 전송`은 대량의 데이터를 복사하기에 적합하다.
        - `벌크 형의 데이터 전송` : 
            - `ETL 서버`의 설치가 필요하다.
                - `ETL 서버` : 구조화된 데이터 처리에 적합한 데이터 웨어하우스를 위한 ETL 도구와 오픈 소스의 벌크 전송 도구 또는 손수 작성한 스크립트 등을 이용하여 데이터를 전송한다.
            - 파일 사이즈의 적정화는 비교적 간단하다.
            - 워크플로 관리 도구와 함께 사용하면 태스크 실행을 조절해 집계 효율을 높일 수 있다.
    - `스트리밍 형의 데이터 전송`은 작은 메시지가 대량으로 들어오므로 그것을 정기적으로 모아서 기록하는 아이디어가 필요하다.
        - `스트리밍 형의 데이터 전송` : 
            - 다수의 클라이언트에서 실시간으로 데이터를 수집 하는데 **메시지 배송 방식**이 사용된다.
                - `메시지 배송 방식` : 다수의 클라이언트에서 계속해서 작은 데이터가 전송되는 것
                    - 효율을 중시하여 **트랜잭션 처리를 하지 않는 경우**가 많으므로 잠재적으로 데이터가 **중복**되거나 **누락**될 가능성이 있다.
            - `메시지 브로커`를 도입함으로써 분산 스토리지에 쓰는 **속도를 안정화**할 수 있다.
                - `메시지 브로커` : 데이터를 일시적으로 축적하여 쓰기 속도를 안정화시키는 중산층
            - 메시지를 여러 경로로 **라우팅**함으로써 동일한 데이터를 **스트리밍 처리 및 배치 처리 모두에서 사용**할 수 있다.
            - 전송되는 데이터양에 비해 통신을 위한 오버헤드가 커지기 때문에 이를 처리하는 서버는 높은 성능을 요구한다.
<br>        

- 메시지 배송에서는 효율을 중시하여 **트랜잭션 처리를 하지 않는 경우**가 많으므로 잠재적으로 데이터가 **중복**되거나 **누락**될 가능성이 있다.
    - 일반적으로 데이터의 누락을 피하고자 `at least once`의 데이터 전송을 하지만 중복된 데이터를 제거하는 것은 사용자의 책임이다.
        - `at most once` -> 메시지는 한 번만 전송된다. 그러나 도중에 전송에 실패해서 사라질 가능성이 있다(결손 발생).**
        - `exactly once` -> 메시지는 손실되거나 중복 없이 한 번만 전달된다.**
        - `at least once` -> 메시지는 확실히 전달된다. 단, 같은 것이 여러 번 전달될 가능성이 있다(중복).**
    - **실제로 약간의 중복은 허용**한 후에 **신뢰성이 요구되는 부분에서는 벌크 형의 데이터 전송**을 하는 것이 일반적이다.
<br>

- 메시지 배송 방식을 사용하지 않고 애플리케이션에서 **`NoSQL 데이터베이스`와 같은 분산 스토리지**에 직접 데이터를 쓰는 방법도 있다.
    - `NoSQL 데이터베이스` : 특정 용도에 최적화된 저장소
        - 특징 : 
            - 데이터의 읽기 및 쓰기는 우수하지만 대량의 데이터를 집계할 수 없다.
            - **집계**를 위해서는 **쿼리 엔진과 연결하여 애드 혹 분석**을 하거나 **정기적으로 데이터를 꺼내 장기적인 데이터 분석을 준비**한다.
